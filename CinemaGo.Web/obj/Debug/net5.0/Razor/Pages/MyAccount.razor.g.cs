#pragma checksum "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7e41ac9d2e35a960c8debf0d763b6ddde59847bf"
// <auto-generated/>
#pragma warning disable 1591
namespace CinemaGo.Web.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using CinemaGo.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using CinemaGo.Web.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
using CinemaGo.DataModels.CustomModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
using CinemaGo.DataModels.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
using CinemaGo.Web.Services;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/myaccount")]
    public partial class MyAccount : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<style>
    .column {
        float: left;
        padding: 4px;
    }

    .clearfix::after {
        content: """";
        clear: both;
        display: table;
    }

    .menu {
        width: 25%;
        margin-top: 5px;
        color: black;
    }

    .content {
        width: 75%;
    }

    a {
        cursor: pointer;
    }

    .vertical-menu {
        width: 200px;
        border: 2px ridge #bacf67;
    }

        .vertical-menu a {
            background-color: #eee;
            color: black;
            display: block;
            padding: 12px;
            text-decoration: none;
        }

            .vertical-menu a:hover {
                background-color: #ccc;
            }

            .vertical-menu a.active {
                background-color: #bacf67;
                color: white;
            }

    .card {
        box-shadow: 4px 8px 0 rgba(0, 0, 0, 0.2);
        max-width: 300px;
        margin: auto;
        text-align: center;
        font-family: arial;
    }

    .title {
        color: grey;
        font-size: 18px;
    }
</style>

");
            __builder.AddMarkupContent(1, @"<style>
    .modal {
        position: fixed;
        z-index: 1;
        padding-top: 100px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0,0.4);
        display: block;
    }

    .modal-content {
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        padding: 20px;
        border: 1px solid #888;
        width: 50%;
        overflow: hidden;
    }

    .close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
</style>

");
            __builder.OpenElement(2, "div");
            __builder.AddAttribute(3, "style", "min-height:400px;");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "column menu");
            __builder.AddAttribute(6, "style", "background-color:white; border-radius:15px;");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "vertical-menu");
            __builder.OpenElement(9, "a");
            __builder.AddAttribute(10, "class", 
#nullable restore
#line 118 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                        myAccountFlag? "active" : ""

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(11, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 118 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                 (()=> ChangeActiveMenu("MyAccount"))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(12, "My Account");
            __builder.CloseElement();
            __builder.AddMarkupContent(13, "\r\n            ");
            __builder.OpenElement(14, "a");
            __builder.AddAttribute(15, "class", 
#nullable restore
#line 119 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                        changePasswordFlag? "active" : ""

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(16, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 119 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                      (()=> ChangeActiveMenu("ChangePassword"))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(17, "Change Password");
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n            ");
            __builder.OpenElement(19, "a");
            __builder.AddAttribute(20, "class", 
#nullable restore
#line 120 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                        orderHistoryFlag? "active" : ""

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(21, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 120 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                    (()=> ChangeActiveMenu("OrderHistory"))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(22, "Order History");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(23, "\r\n    ");
            __builder.OpenElement(24, "div");
            __builder.AddAttribute(25, "class", "column content");
            __builder.OpenElement(26, "div");
            __builder.AddAttribute(27, "style", "border:2px ridge #bacf67; padding:10px; border-radius:15px;");
            __builder.OpenElement(28, "div");
            __builder.AddAttribute(29, "style", "border-bottom: 2px ridge #bacf67;");
            __builder.OpenElement(30, "h4");
            __builder.AddContent(31, 
#nullable restore
#line 125 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                headerText

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 126 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
             if (myAccountFlag)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(32, "div");
            __builder.AddAttribute(33, "style", "width:200px;");
            __builder.OpenElement(34, "div");
            __builder.AddAttribute(35, "class", "card");
            __builder.AddMarkupContent(36, "<img src=\"./images/user_icon.png\" alt=\"Profile\" style=\"width:100%\">\r\n                        ");
            __builder.OpenElement(37, "p");
            __builder.AddContent(38, "Name:");
            __builder.AddContent(39, 
#nullable restore
#line 131 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                 userName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(40, "\r\n                        ");
            __builder.OpenElement(41, "p");
            __builder.AddContent(42, "Email:");
            __builder.AddContent(43, 
#nullable restore
#line 132 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                  userEmail

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 135 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 137 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
             if (changePasswordFlag)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(44, "div");
            __builder.AddAttribute(45, "style", "width:400px;");
            __builder.OpenElement(46, "div");
            __builder.AddAttribute(47, "class", "form-group");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(48);
            __builder.AddAttribute(49, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 141 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                          passwordModel

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(50, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 141 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                        ChangePassword_Click

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(51, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(52);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(53, "\r\n                            ");
                __builder2.OpenElement(54, "div");
                __builder2.AddAttribute(55, "class", "form-group");
                __builder2.AddMarkupContent(56, "<label>Old Password :</label>\r\n                                ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(57);
                __builder2.AddAttribute(58, "type", "text");
                __builder2.AddAttribute(59, "class", "form-control");
                __builder2.AddAttribute(60, "id", "oldpwd");
                __builder2.AddAttribute(61, "autocomplete", "off");
                __builder2.AddAttribute(62, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 145 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                                     passwordModel.OldPassword

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(63, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => passwordModel.OldPassword = __value, passwordModel.OldPassword))));
                __builder2.AddAttribute(64, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => passwordModel.OldPassword));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(65, "\r\n                                ");
                __Blazor.CinemaGo.Web.Pages.MyAccount.TypeInference.CreateValidationMessage_0(__builder2, 66, 67, 
#nullable restore
#line 146 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                          () => passwordModel.OldPassword

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(68, "\r\n                            ");
                __builder2.OpenElement(69, "div");
                __builder2.AddAttribute(70, "class", "form-group");
                __builder2.AddMarkupContent(71, "<label>New Password :</label>\r\n                                ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(72);
                __builder2.AddAttribute(73, "type", "text");
                __builder2.AddAttribute(74, "class", "form-control");
                __builder2.AddAttribute(75, "id", "newpwd");
                __builder2.AddAttribute(76, "autocomplete", "off");
                __builder2.AddAttribute(77, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 150 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                                     passwordModel.Password

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(78, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => passwordModel.Password = __value, passwordModel.Password))));
                __builder2.AddAttribute(79, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => passwordModel.Password));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(80, "\r\n                                ");
                __Blazor.CinemaGo.Web.Pages.MyAccount.TypeInference.CreateValidationMessage_1(__builder2, 81, 82, 
#nullable restore
#line 151 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                          () => passwordModel.Password

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(83, "\r\n                            ");
                __builder2.OpenElement(84, "div");
                __builder2.AddAttribute(85, "class", "form-group");
                __builder2.AddMarkupContent(86, "<label>Confirm Password :</label>\r\n                                ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputText>(87);
                __builder2.AddAttribute(88, "type", "text");
                __builder2.AddAttribute(89, "class", "form-control");
                __builder2.AddAttribute(90, "id", "confirmpwd");
                __builder2.AddAttribute(91, "autocomplete", "off");
                __builder2.AddAttribute(92, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 155 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                                         passwordModel.ConfirmPassword

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(93, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => passwordModel.ConfirmPassword = __value, passwordModel.ConfirmPassword))));
                __builder2.AddAttribute(94, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => passwordModel.ConfirmPassword));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(95, "\r\n                                ");
                __Blazor.CinemaGo.Web.Pages.MyAccount.TypeInference.CreateValidationMessage_2(__builder2, 96, 97, 
#nullable restore
#line 156 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                          () => passwordModel.ConfirmPassword

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(98, "\r\n                            ");
                __builder2.AddMarkupContent(99, "<div class=\"form-group\"><button type=\"submit\" class=\"btn btn-primary\">Submit</button></div>");
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 164 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 166 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
             if (orderHistoryFlag)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(100, "table");
            __builder.AddAttribute(101, "class", "table table-striped table-bordered bg-light");
            __builder.AddMarkupContent(102, "<thead><tr><th>Order #</th>\r\n\r\n                            <th>Total #</th>\r\n\r\n                            <th>Order Date #</th>\r\n\r\n                            <th style=\"width:80px;\">Details?</th></tr></thead>\r\n                    ");
            __builder.OpenElement(103, "tbody");
#nullable restore
#line 181 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                         foreach (var odr in customerOrders)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(104, "tr");
            __builder.OpenElement(105, "td");
            __builder.AddContent(106, 
#nullable restore
#line 184 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                     odr.OrderId

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(107, "\r\n                                ");
            __builder.OpenElement(108, "td");
            __builder.AddContent(109, 
#nullable restore
#line 185 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                     odr.Total

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(110, "\r\n                                ");
            __builder.OpenElement(111, "td");
            __builder.AddContent(112, 
#nullable restore
#line 186 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                     odr.CreatedOn

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(113, "\r\n\r\n                                ");
            __builder.OpenElement(114, "td");
            __builder.OpenElement(115, "input");
            __builder.AddAttribute(116, "type", "button");
            __builder.AddAttribute(117, "class", "btn btn-secondary");
            __builder.AddAttribute(118, "value", "Detail");
            __builder.AddAttribute(119, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 189 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                                            (()=> Detail_Click(odr.OrderId))

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 192 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 196 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 201 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
 if (showAlertMessage == true) 
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(120, "div");
            __builder.AddAttribute(121, "class", "modal");
            __builder.OpenElement(122, "div");
            __builder.AddAttribute(123, "class", "modal-content");
            __builder.OpenElement(124, "div");
            __builder.AddAttribute(125, "class", "modal-header");
            __builder.AddMarkupContent(126, "<h5>Aler</h5>\r\n                ");
            __builder.OpenElement(127, "span");
            __builder.AddAttribute(128, "class", "close");
            __builder.AddAttribute(129, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 207 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                              ToggleAlertMessage

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(130, "×");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(131, "\r\n            ");
            __builder.OpenElement(132, "div");
            __builder.AddAttribute(133, "class", "modal-body");
            __builder.AddContent(134, 
#nullable restore
#line 210 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                 alertMessage

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(135, "\r\n            ");
            __builder.OpenElement(136, "div");
            __builder.AddAttribute(137, "class", "modal-footer");
            __builder.OpenElement(138, "input");
            __builder.AddAttribute(139, "type", "button");
            __builder.AddAttribute(140, "class", "btn btn-primary");
            __builder.AddAttribute(141, "value", "Close");
            __builder.AddAttribute(142, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 213 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                     ToggleAlertMessage

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 220 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 222 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
 if (showOrderDetail == true) 
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(143, "div");
            __builder.AddAttribute(144, "class", "modal");
            __builder.OpenElement(145, "div");
            __builder.AddAttribute(146, "class", "modal-content");
            __builder.OpenElement(147, "div");
            __builder.AddAttribute(148, "class", "modal-header");
            __builder.AddMarkupContent(149, "<h5>Order Details</h5>\r\n                ");
            __builder.OpenElement(150, "span");
            __builder.AddAttribute(151, "class", "close");
            __builder.AddAttribute(152, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 228 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                              ToggleOrderDetailPopup

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(153, "×");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(154, "\r\n            ");
            __builder.OpenElement(155, "div");
            __builder.AddAttribute(156, "class", "modal-body");
#nullable restore
#line 231 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                 if (@myCart != null && @myCart.Count > 0) 
                 {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(157, "table");
            __builder.AddAttribute(158, "class", "table table-bordered");
#nullable restore
#line 234 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                         foreach (var cart in myCart) 
                         {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(159, "tr");
            __builder.OpenElement(160, "td");
            __builder.AddAttribute(161, "style", "padding:0px;");
            __builder.OpenElement(162, "img");
            __builder.AddAttribute(163, "src", "http://localhost:36313/" + (
#nullable restore
#line 238 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                       cart.ProductImage

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(164, "alt", "Product Photo");
            __builder.CloseElement();
            __builder.AddMarkupContent(165, "\r\n                                     ");
            __builder.OpenElement(166, "div");
            __builder.OpenElement(167, "p");
            __builder.AddContent(168, 
#nullable restore
#line 240 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                             cart.ProductName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(169, "\r\n                                ");
            __builder.AddMarkupContent(170, @"<td><p>Cinema Name    : TGV AEON Bukit Mertajam</p>
                                    <p>Selected seats : C1 , C2</p>
                                    <p>Date           :18/7/2023</p>
                                    <p>Showtime       :10pm</p></td>
                                ");
            __builder.OpenElement(171, "td");
            __builder.AddAttribute(172, "style", "padding:0px;");
            __builder.AddContent(173, 
#nullable restore
#line 251 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                          cart.Quantity

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(174, " X $");
            __builder.AddContent(175, 
#nullable restore
#line 251 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                            cart.Price

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(176, "\r\n                                ");
            __builder.OpenElement(177, "td");
            __builder.AddAttribute(178, "style", "padding:0px;");
            __builder.AddContent(179, "$");
            __builder.AddContent(180, 
#nullable restore
#line 252 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                            cart.Price*cart.Quantity

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(181, ".00");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 254 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                         }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.OpenElement(182, "table");
            __builder.AddAttribute(183, "style", "width:550px; border:1px ridge #f5750d;");
            __builder.OpenElement(184, "tr");
            __builder.OpenElement(185, "td");
            __builder.AddContent(186, "Subtotal-$");
            __builder.AddContent(187, 
#nullable restore
#line 259 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                           subTotal

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(188, ".00");
            __builder.CloseElement();
            __builder.AddMarkupContent(189, "\r\n                            ");
            __builder.OpenElement(190, "td");
            __builder.AddContent(191, "SeatCharges-$");
            __builder.AddContent(192, 
#nullable restore
#line 260 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                              seatCharges

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(193, ".00");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(194, "\r\n                        ");
            __builder.OpenElement(195, "tr");
            __builder.OpenElement(196, "td");
            __builder.AddContent(197, "Total-$");
            __builder.AddContent(198, 
#nullable restore
#line 263 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                        finalTotal

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(199, ".00");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(200, "\r\n                        ");
            __builder.OpenElement(201, "tr");
            __builder.OpenElement(202, "td");
            __builder.AddContent(203, "PaymentMode-");
            __builder.AddContent(204, 
#nullable restore
#line 267 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                             paymentMode

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 270 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                 }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(205, "\r\n            ");
            __builder.OpenElement(206, "div");
            __builder.AddAttribute(207, "class", "modal-footer");
            __builder.OpenElement(208, "input");
            __builder.AddAttribute(209, "type", "button");
            __builder.AddAttribute(210, "class", "btn btn-primary");
            __builder.AddAttribute(211, "value", "Close");
            __builder.AddAttribute(212, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 273 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                     ToggleOrderDetailPopup

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 277 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 279 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
 if (showTrackOrder == true)

{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(213, "div");
            __builder.AddAttribute(214, "class", "modal");
            __builder.OpenElement(215, "div");
            __builder.AddAttribute(216, "class", "modal-content");
            __builder.OpenElement(217, "div");
            __builder.AddAttribute(218, "class", "modal-header");
            __builder.AddMarkupContent(219, "<h5>Track  Order</h5>\r\n                ");
            __builder.OpenElement(220, "span");
            __builder.AddAttribute(221, "class", "close");
            __builder.AddAttribute(222, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 286 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                              ToggleTrackOrderPopup

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(223, "×");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(224, "\r\n            ");
            __builder.OpenElement(225, "div");
            __builder.AddAttribute(226, "class", "modal-body");
#nullable restore
#line 289 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                 if (shippingUpdates != null && shippingUpdates.Count > 0) 
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(227, "table");
            __builder.OpenElement(228, "tbody");
#nullable restore
#line 293 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                             foreach(var odr in shippingUpdates) 
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(229, "tr");
            __builder.OpenElement(230, "td");
            __builder.AddContent(231, 
#nullable restore
#line 296 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                         odr

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 298 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 301 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                }
                else 
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(232, "<span>No update on order shipping.Check again soon</span>");
#nullable restore
#line 305 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(233, "\r\n            ");
            __builder.OpenElement(234, "div");
            __builder.AddAttribute(235, "class", "modal-footer");
            __builder.OpenElement(236, "input");
            __builder.AddAttribute(237, "type", "button");
            __builder.AddAttribute(238, "class", "btn btn-primary");
            __builder.AddAttribute(239, "value", "Close");
            __builder.AddAttribute(240, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 308 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
                                                                                     ToggleTrackOrderPopup

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 312 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 316 "C:\Users\mukunda\Desktop\New folder\CinemaGo\CinemaGo.Web\Pages\MyAccount.razor"
       

    private string headerText = "MyAccount";
    private int userKey = 0;
    private string userName = string.Empty;
    private string userEmail = string.Empty;
    private string alertMessage = string.Empty;
    private bool myAccountFlag = true;
    private bool changePasswordFlag = false;
    private bool orderHistoryFlag = false;
    public bool showTrackOrder = false;
    public bool showOrderDetail = false;
    public bool showAlertMessage = false;
    private List<ProductModel> products;
    private List<CustomerOrder> customerOrders;
    private PasswordModel passwordModel;
    private ResponseModel response;


    public List<string> shippingUpdates { get; set; }
    public List<CartModel> myCart { get; set; }
    
    public int seatCharges { get; set; }
    public int subTotal { get; set; }
    public string paymentMode { get; set; }
    public int finalTotal { get; set; }

    protected override Task OnInitializedAsync()
    {
        products = new List<ProductModel>();
        customerOrders = new List<CustomerOrder>();
        passwordModel = new PasswordModel();
        return base.OnInitializedAsync();
    }

    private async Task ChangeActiveMenu(string menu)
    {
        headerText = menu;
        switch (menu)
        {
            case "MyAccount":
                myAccountFlag = true;
                changePasswordFlag = false;
                orderHistoryFlag = false;

                break;

            case "ChangePassword":
                myAccountFlag = false;
                changePasswordFlag = true;
                orderHistoryFlag = false;

                break;

            case "OrderHistory":
                myAccountFlag = false;
                changePasswordFlag = false;
                orderHistoryFlag = true;
                await GetOrdersByCustomerId(userKey);


                break;
        }
    }

    private async Task GetOrdersByCustomerId(int customerId)
    {
        if (customerOrders.Count == 0)
        {
            customerOrders = await userPanelService.GetOrdersByCustomerId(customerId);
        }
    }

    private void ToggleAlertMessage()
    {
        showAlertMessage = showAlertMessage == true ? false : true;
    }

    private void ToggleOrderDetailPopup()
    {
        showOrderDetail = showOrderDetail == true ? false : true;
    }

    private void ToggleTrackOrderPopup()
    {
        showTrackOrder = showTrackOrder == true ? false :true ;
    }

    private  async Task GetOrderDetailForCustomer(int customerId, string order_number)
    {
        myCart = await userPanelService.GetOrderDetailForCustomer(customerId, order_number);

        if(myCart != null && myCart.Count > 0)
        {
            
            seatCharges= myCart.FirstOrDefault().ShippingCharges;
            subTotal = myCart.FirstOrDefault().SubTotal;
            finalTotal = myCart.FirstOrDefault().Total;
            paymentMode = myCart.FirstOrDefault().PaymentMode;
        }
    }

    private async Task Detail_Click(string order_number)
    {
        await GetOrderDetailForCustomer(userKey, order_number);
        ToggleOrderDetailPopup();
    }

    private async Task Track_Click(string order_number)
    {
        shippingUpdates = await userPanelService.GetShippingStatusForOrder(order_number);
        ToggleTrackOrderPopup();
    }

    private async Task ChangePassword_Click()
    {
        if (passwordModel.Password != passwordModel.ConfirmPassword)
        {
            alertMessage = "Password & Confirm password are not same";
            ToggleAlertMessage();
        }
        else
        {
            passwordModel.UserKey= userKey;

            response = await userPanelService.ChangePassword(passwordModel);
            if (response.Status)
            {
                passwordModel = new PasswordModel();
                alertMessage = response.Message;
                ToggleAlertMessage();
            }
        }
    }


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var session_userKey = await sessionStorage.GetAsync<string>("userKey");

            var session_userName = await sessionStorage.GetAsync<string>("userName");

            var session_userEmail = await sessionStorage.GetAsync<string>("userEmail");

            if (session_userName.Success && session_userEmail.Success && session_userKey.Success)
            {
                userKey = Convert.ToInt32(session_userKey.Value);
                userName = session_userName.Value;
                userEmail = session_userEmail.Value;
            }
            var session_latestOrder = await sessionStorage.GetAsync<string>("latestOrder");
            if (session_latestOrder.Success)
            {
                await sessionStorage.DeleteAsync("latestOrder");

                await GetOrdersByCustomerId(userKey);

                await ChangeActiveMenu("OrderHistory");
            }

            StateHasChanged();
        }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ProtectedSessionStorage sessionStorage { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IUserPanelService userPanelService { get; set; }
    }
}
namespace __Blazor.CinemaGo.Web.Pages.MyAccount
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateValidationMessage_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
